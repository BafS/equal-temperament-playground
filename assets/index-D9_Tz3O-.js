var pn=Object.defineProperty;var or=e=>{throw TypeError(e)};var bn=(e,t,r)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ur=(e,t,r)=>bn(e,typeof t!="symbol"?t+"":t,r),wt=(e,t,r)=>t.has(e)||or("Cannot "+r);var le=(e,t,r)=>(wt(e,t,"read from private field"),r?r.call(e):t.get(e)),Re=(e,t,r)=>t.has(e)?or("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pt=(e,t,r,n)=>(wt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),fr=(e,t,r)=>(wt(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();const En=!1;var It=Array.isArray,Nt=Array.from,xn=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,xr=Object.getOwnPropertyDescriptors,qn=Object.prototype,Sn=Array.prototype,Dt=Object.getPrototypeOf;function Mn(e){return e()}function qt(e){for(var t=0;t<e.length;t++)e[t]()}const X=2,qr=4,Ye=8,Lt=16,J=32,Ge=64,St=128,pe=256,lt=512,H=1024,ve=2048,Te=4096,ee=8192,Ae=16384,kn=32768,Bt=65536,Tn=1<<17,An=1<<19,Sr=1<<20,we=Symbol("$state"),Pn=Symbol("legacy props"),Fn=Symbol("");function Mr(e){return e===this.v}function On(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function zt(e){return!On(e,this.v)}function Cn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Rn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function In(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Nn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Dn(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ln(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Wn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Pe=!1;function Vn(){Pe=!0}const Ht=1,Wt=2,kr=4,Un=8,jn=16,Yn=1,Gn=2,Kn=4,Zn=8,Xn=16,Tr=1,Jn=2,U=Symbol();function G(e,t){var r={f:0,v:e,reactions:null,equals:Mr,version:0};return r}function ye(e){return Ar(G(e))}function Vt(e,t=!1){var n;const r=G(e);return t||(r.equals=zt),Pe&&A!==null&&A.l!==null&&((n=A.l).s??(n.s=[])).push(r),r}function $e(e,t=!1){return Ar(Vt(e,t))}function Ar(e){return C!==null&&C.f&X&&(te===null?fl([e]):te.push(e)),e}function cr(e,t){return I(e,ae(()=>a(e))),t}function I(e,t){return C!==null&&dt()&&C.f&(X|Lt)&&(te===null||!te.includes(e))&&Wn(),Mt(e,t)}function Mt(e,t){return e.equals(t)||(e.v=t,e.version=jr(),Pr(e,ve),dt()&&q!==null&&q.f&H&&!(q.f&J)&&(z!==null&&z.includes(e)?(Q(q,ve),ht(q)):ce===null?cl([e]):ce.push(e))),t}function Pr(e,t){var r=e.reactions;if(r!==null)for(var n=dt(),l=r.length,i=0;i<l;i++){var s=r[i],c=s.f;c&ve||!n&&s===q||(Q(s,t),c&(H|pe)&&(c&X?Pr(s,Te):ht(s)))}}let Qn=!1;function ge(e,t=null,r){if(typeof e!="object"||e===null||we in e)return e;const n=Dt(e);if(n!==qn&&n!==Sn)return e;var l=new Map,i=It(e),s=G(0);i&&l.set("length",G(e.length));var c;return new Proxy(e,{defineProperty(u,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Bn();var v=l.get(o);return v===void 0?(v=G(f.value),l.set(o,v)):I(v,ge(f.value,c)),!0},deleteProperty(u,o){var f=l.get(o);if(f===void 0)o in u&&l.set(o,G(U));else{if(i&&typeof o=="string"){var v=l.get("length"),_=Number(o);Number.isInteger(_)&&_<v.v&&I(v,_)}I(f,U),vr(s)}return!0},get(u,o,f){var y;if(o===we)return e;var v=l.get(o),_=o in u;if(v===void 0&&(!_||(y=Se(u,o))!=null&&y.writable)&&(v=G(ge(_?u[o]:U,c)),l.set(o,v)),v!==void 0){var d=a(v);return d===U?void 0:d}return Reflect.get(u,o,f)},getOwnPropertyDescriptor(u,o){var f=Reflect.getOwnPropertyDescriptor(u,o);if(f&&"value"in f){var v=l.get(o);v&&(f.value=a(v))}else if(f===void 0){var _=l.get(o),d=_==null?void 0:_.v;if(_!==void 0&&d!==U)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(u,o){var d;if(o===we)return!0;var f=l.get(o),v=f!==void 0&&f.v!==U||Reflect.has(u,o);if(f!==void 0||q!==null&&(!v||(d=Se(u,o))!=null&&d.writable)){f===void 0&&(f=G(v?ge(u[o],c):U),l.set(o,f));var _=a(f);if(_===U)return!1}return v},set(u,o,f,v){var P;var _=l.get(o),d=o in u;if(i&&o==="length")for(var y=f;y<_.v;y+=1){var w=l.get(y+"");w!==void 0?I(w,U):y in u&&(w=G(U),l.set(y+"",w))}_===void 0?(!d||(P=Se(u,o))!=null&&P.writable)&&(_=G(void 0),I(_,ge(f,c)),l.set(o,_)):(d=_.v!==U,I(_,ge(f,c)));var h=Reflect.getOwnPropertyDescriptor(u,o);if(h!=null&&h.set&&h.set.call(v,f),!d){if(i&&typeof o=="string"){var S=l.get("length"),M=Number(o);Number.isInteger(M)&&M>=S.v&&I(S,M+1)}vr(s)}return!0},ownKeys(u){a(s);var o=Reflect.ownKeys(u).filter(_=>{var d=l.get(_);return d===void 0||d.v!==U});for(var[f,v]of l)v.v!==U&&!(f in u)&&o.push(f);return o},setPrototypeOf(){zn()}})}function vr(e,t=1){I(e,e.v+t)}var dr,Fr,Or;function $n(){if(dr===void 0){dr=window;var e=Element.prototype,t=Node.prototype;Fr=Se(t,"firstChild").get,Or=Se(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Ut(e=""){return document.createTextNode(e)}function ie(e){return Fr.call(e)}function ct(e){return Or.call(e)}function k(e,t){return ie(e)}function Le(e,t){{var r=ie(e);return r instanceof Comment&&r.data===""?ct(r):r}}function E(e,t=1,r=!1){let n=e;for(;t--;)n=ct(n);return n}function el(e){e.textContent=""}function B(e){var t=X|ve;q===null?t|=pe:q.f|=Sr;var r=C!==null&&C.f&X?C:null;const n={children:null,ctx:A,deps:null,equals:Mr,f:t,fn:e,reactions:null,v:null,version:0,parent:r??q};return r!==null&&(r.children??(r.children=[])).push(n),n}function tl(e){const t=B(e);return t.equals=zt,t}function Cr(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&X?jt(n):de(n)}}}function rl(e){for(var t=e.parent;t!==null;){if(!(t.f&X))return t;t=t.parent}return null}function Rr(e){var t,r=q;re(rl(e));try{Cr(e),t=Yr(e)}finally{re(r)}return t}function Ir(e){var t=Rr(e),r=(me||e.f&pe)&&e.deps!==null?Te:H;Q(e,r),e.equals(t)||(e.v=t,e.version=jr())}function jt(e){Cr(e),He(e,0),Q(e,Ae),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Nr(e){q===null&&C===null&&In(),C!==null&&C.f&pe&&Rn(),Zt&&Cn()}function nl(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Fe(e,t,r,n=!0){var l=(e&Ge)!==0,i=q,s={ctx:A,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:l?null:i,prev:null,teardown:null,transitions:null,version:0};if(r){var c=Me;try{_r(!0),Ze(s),s.f|=kn}catch(f){throw de(s),f}finally{_r(c)}}else t!==null&&ht(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Sr)===0;if(!u&&!l&&n&&(i!==null&&nl(s,i),C!==null&&C.f&X)){var o=C;(o.children??(o.children=[])).push(s)}return s}function ll(e){const t=Fe(Ye,null,!1);return Q(t,H),t.teardown=e,t}function kt(e){Nr();var t=q!==null&&(q.f&J)!==0&&A!==null&&!A.m;if(t){var r=A;(r.e??(r.e=[])).push({fn:e,effect:q,reaction:C})}else{var n=vt(e);return n}}function il(e){return Nr(),Ke(e)}function al(e){const t=Fe(Ge,e,!0);return(r={})=>new Promise(n=>{r.outro?it(t,()=>{de(t),n(void 0)}):(de(t),n(void 0))})}function vt(e){return Fe(qr,e,!1)}function bt(e,t){var r=A,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Ke(()=>{e(),!n.ran&&(n.ran=!0,I(r.l.r2,!0),ae(t))})}function sl(){var e=A;Ke(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&H&&Q(r,Te),Oe(r)&&Ze(r),t.ran=!1}e.l.r2.v=!1}})}function Ke(e){return Fe(Ye,e,!0)}function T(e){return Yt(e)}function Yt(e,t=0){return Fe(Ye|Lt|t,e,!0)}function ze(e,t=!0){return Fe(Ye|J,e,!0,t)}function Dr(e){var t=e.teardown;if(t!==null){const r=Zt,n=C;hr(!0),_e(null);try{t.call(null)}finally{hr(r),_e(n)}}}function Lr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)jt(t[r])}}function Br(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;de(r,t),r=n}}function ol(e){for(var t=e.first;t!==null;){var r=t.next;t.f&J||de(t),t=r}}function de(e,t=!0){var r=!1;if((t||e.f&An)&&e.nodes_start!==null){for(var n=e.nodes_start,l=e.nodes_end;n!==null;){var i=n===l?null:ct(n);n.remove(),n=i}r=!0}Br(e,t&&!r),Lr(e),He(e,0),Q(e,Ae);var s=e.transitions;if(s!==null)for(const u of s)u.stop();Dr(e);var c=e.parent;c!==null&&c.first!==null&&zr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function zr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function it(e,t){var r=[];Gt(e,r,!0),Hr(r,()=>{de(e),t&&t()})}function Hr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var l of e)l.out(n)}else t()}function Gt(e,t,r){if(!(e.f&ee)){if(e.f^=ee,e.transitions!==null)for(const s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var l=n.next,i=(n.f&Bt)!==0||(n.f&J)!==0;Gt(n,t,i?r:!1),n=l}}}function at(e){Wr(e,!0)}function Wr(e,t){if(e.f&ee){Oe(e)&&Ze(e),e.f^=ee;for(var r=e.first;r!==null;){var n=r.next,l=(r.f&Bt)!==0||(r.f&J)!==0;Wr(r,l?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Tt=!1,At=[];function ul(){Tt=!1;const e=At.slice();At=[],qt(e)}function Kt(e){Tt||(Tt=!0,queueMicrotask(ul)),At.push(e)}function Vr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let nt=!1,st=!1,ot=null,Me=!1,Zt=!1;function _r(e){Me=e}function hr(e){Zt=e}let Pt=[],Be=0;let C=null;function _e(e){C=e}let q=null;function re(e){q=e}let te=null;function fl(e){te=e}let z=null,j=0,ce=null;function cl(e){ce=e}let Ur=1,me=!1,A=null;function jr(){return++Ur}function dt(){return!Pe||A!==null&&A.l===null}function Oe(e){var s,c;var t=e.f;if(t&ve)return!0;if(t&Te){var r=e.deps,n=(t&pe)!==0;if(r!==null){var l;if(t&lt){for(l=0;l<r.length;l++)((s=r[l]).reactions??(s.reactions=[])).push(e);e.f^=lt}for(l=0;l<r.length;l++){var i=r[l];if(Oe(i)&&Ir(i),n&&q!==null&&!me&&!((c=i==null?void 0:i.reactions)!=null&&c.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}(!n||q!==null&&!me)&&Q(e,H)}return!1}function vl(e,t){for(var r=t;r!==null;){if(r.f&St)try{r.fn(e);return}catch{r.f^=St}r=r.parent}throw nt=!1,e}function dl(e){return(e.f&Ae)===0&&(e.parent===null||(e.parent.f&St)===0)}function _t(e,t,r,n){if(nt){if(r===null&&(nt=!1),dl(t))throw e;return}r!==null&&(nt=!0);{vl(e,t);return}}function Yr(e){var _;var t=z,r=j,n=ce,l=C,i=me,s=te,c=A,u=e.f;z=null,j=0,ce=null,C=u&(J|Ge)?null:e,me=!Me&&(u&pe)!==0,te=null,A=e.ctx;try{var o=(0,e.fn)(),f=e.deps;if(z!==null){var v;if(He(e,j),f!==null&&j>0)for(f.length=j+z.length,v=0;v<z.length;v++)f[j+v]=z[v];else e.deps=f=z;if(!me)for(v=j;v<f.length;v++)((_=f[v]).reactions??(_.reactions=[])).push(e)}else f!==null&&j<f.length&&(He(e,j),f.length=j);return o}finally{z=t,j=r,ce=n,C=l,me=i,te=s,A=c}}function _l(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var l=r.length-1;l===0?r=t.reactions=null:(r[n]=r[l],r.pop())}}r===null&&t.f&X&&(z===null||!z.includes(t))&&(Q(t,Te),t.f&(pe|lt)||(t.f^=lt),He(t,0))}function He(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)_l(e,r[n])}function Ze(e){var t=e.f;if(!(t&Ae)){Q(e,H);var r=q,n=A;q=e;try{t&Lt?ol(e):Br(e),Lr(e),Dr(e);var l=Yr(e);e.teardown=typeof l=="function"?l:null,e.version=Ur}catch(i){_t(i,e,r,n||e.ctx)}finally{q=r}}}function hl(){if(Be>1e3){Be=0;try{Nn()}catch(e){if(ot!==null)_t(e,ot,null);else throw e}}Be++}function yl(e){var t=e.length;if(t!==0){hl();var r=Me;Me=!0;try{for(var n=0;n<t;n++){var l=e[n];l.f&H||(l.f^=H);var i=[];Gr(l,i),gl(i)}}finally{Me=r}}}function gl(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&(Ae|ee)))try{Oe(n)&&(Ze(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?zr(n):n.fn=null))}catch(l){_t(l,n,null,n.ctx)}}}function ml(){if(st=!1,Be>1001)return;const e=Pt;Pt=[],yl(e),st||(Be=0,ot=null)}function ht(e){st||(st=!0,queueMicrotask(ml)),ot=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Ge|J)){if(!(r&H))return;t.f^=H}}Pt.push(t)}function Gr(e,t){var r=e.first,n=[];e:for(;r!==null;){var l=r.f,i=(l&J)!==0,s=i&&(l&H)!==0,c=r.next;if(!s&&!(l&ee))if(l&Ye){if(i)r.f^=H;else try{Oe(r)&&Ze(r)}catch(v){_t(v,r,null,r.ctx)}var u=r.first;if(u!==null){r=u;continue}}else l&qr&&n.push(r);if(c===null){let v=r.parent;for(;v!==null;){if(e===v)break e;var o=v.next;if(o!==null){r=o;continue e}v=v.parent}}r=c}for(var f=0;f<n.length;f++)u=n[f],t.push(u),Gr(u,t)}function a(e){var f;var t=e.f,r=(t&X)!==0;if(r&&t&Ae){var n=Rr(e);return jt(e),n}if(C!==null){te!==null&&te.includes(e)&&Hn();var l=C.deps;z===null&&l!==null&&l[j]===e?j++:z===null?z=[e]:z.push(e),ce!==null&&q!==null&&q.f&H&&!(q.f&J)&&ce.includes(e)&&(Q(q,ve),ht(q))}else if(r&&e.deps===null)for(var i=e,s=i.parent,c=i;s!==null;)if(s.f&X){var u=s;c=u,s=u.parent}else{var o=s;(f=o.deriveds)!=null&&f.includes(c)||(o.deriveds??(o.deriveds=[])).push(c);break}return r&&(i=e,Oe(i)&&Ir(i)),e.v}function ae(e){const t=C;try{return C=null,e()}finally{C=t}}const wl=~(ve|Te|H);function Q(e,t){e.f=e.f&wl|t}function yt(e,t=!1,r){A={p:A,c:null,e:null,m:!1,s:e,x:null,l:null},Pe&&!t&&(A.l={s:null,u:null,r1:[],r2:G(!1)})}function gt(e){const t=A;if(t!==null){const s=t.e;if(s!==null){var r=q,n=C;t.e=null;try{for(var l=0;l<s.length;l++){var i=s[l];re(i.effect),_e(i.reaction),vt(i.fn)}}finally{re(r),_e(n)}}A=t.p,t.m=!0}return{}}function Ne(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(we in e)Ft(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&we in r&&Ft(r)}}}function Ft(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Ft(e[n],t)}catch{}const r=Dt(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=xr(r);for(let l in n){const i=n[l].get;if(i)try{i.call(e)}catch{}}}}}const pl=["touchstart","touchmove"];function bl(e){return pl.includes(e)}let yr=!1;function El(){yr||(yr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Kr(e){var t=C,r=q;_e(null),re(null);try{return e()}finally{_e(t),re(r)}}function xl(e,t,r,n=r){e.addEventListener(t,()=>Kr(r));const l=e.__on_r;l?e.__on_r=()=>{l(),n(!0)}:e.__on_r=()=>n(!0),El()}const Zr=new Set,Ot=new Set;function ql(e,t,r,n){function l(i){if(n.capture||De.call(t,i),!i.cancelBubble)return Kr(()=>r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Kt(()=>{t.addEventListener(e,l,n)}):t.addEventListener(e,l,n),l}function et(e,t,r,n,l){var i={capture:n,passive:l},s=ql(e,t,r,i);(t===document.body||t===window||t===document)&&ll(()=>{t.removeEventListener(e,s,i)})}function Xr(e){for(var t=0;t<e.length;t++)Zr.add(e[t]);for(var r of Ot)r(e)}function De(e){var M;var t=this,r=t.ownerDocument,n=e.type,l=((M=e.composedPath)==null?void 0:M.call(e))||[],i=l[0]||e.target,s=0,c=e.__root;if(c){var u=l.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var o=l.indexOf(t);if(o===-1)return;u<=o&&(s=u)}if(i=l[s]||e.target,i!==t){xn(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=C,v=q;_e(null),re(null);try{for(var _,d=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+n];if(w!==void 0&&!i.disabled)if(It(w)){var[h,...S]=w;h.apply(i,[e,...S])}else w.call(i,e)}catch(P){_?d.push(P):_=P}if(e.cancelBubble||y===t||y===null)break;i=y}if(_){for(let P of d)queueMicrotask(()=>{throw P});throw _}}finally{e.__root=t,delete e.currentTarget,_e(f),re(v)}}}function Jr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function We(e,t){var r=q;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Xt(e,t){var r=(t&Tr)!==0,n=(t&Jn)!==0,l,i=!e.startsWith("<!>");return()=>{l===void 0&&(l=Jr(i?e:"<!>"+e),r||(l=ie(l)));var s=n?document.importNode(l,!0):l.cloneNode(!0);if(r){var c=ie(s),u=s.lastChild;We(c,u)}else We(s,s);return s}}function be(e,t,r="svg"){var n=!e.startsWith("<!>"),l=(t&Tr)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,s;return()=>{if(!s){var c=Jr(i),u=ie(c);if(l)for(s=document.createDocumentFragment();ie(u);)s.appendChild(ie(u));else s=ie(u)}var o=s.cloneNode(!0);if(l){var f=ie(o),v=o.lastChild;We(f,v)}else We(o,o);return o}}function Sl(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Ut();return e.append(t,r),We(t,r),e}function Z(e,t){e!==null&&e.before(t)}function Y(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Ml(e,t){return kl(e,t)}const qe=new Map;function kl(e,{target:t,anchor:r,props:n={},events:l,context:i,intro:s=!0}){$n();var c=new Set,u=v=>{for(var _=0;_<v.length;_++){var d=v[_];if(!c.has(d)){c.add(d);var y=bl(d);t.addEventListener(d,De,{passive:y});var w=qe.get(d);w===void 0?(document.addEventListener(d,De,{passive:y}),qe.set(d,1)):qe.set(d,w+1)}}};u(Nt(Zr)),Ot.add(u);var o=void 0,f=al(()=>{var v=r??t.appendChild(Ut());return ze(()=>{if(i){yt({});var _=A;_.c=i}l&&(n.$$events=l),o=e(v,n)||{},i&&gt()}),()=>{var y;for(var _ of c){t.removeEventListener(_,De);var d=qe.get(_);--d===0?(document.removeEventListener(_,De),qe.delete(_)):qe.set(_,d)}Ot.delete(u),v!==r&&((y=v.parentNode)==null||y.removeChild(v))}});return Tl.set(o,f),o}let Tl=new WeakMap;function gr(e,t,r=!1){var n=e,l=null,i=null,s=U,c=r?Bt:0,u=!1;const o=(v,_=!0)=>{u=!0,f(_,v)},f=(v,_)=>{s!==(s=v)&&(s?(l?at(l):_&&(l=ze(()=>_(n))),i&&it(i,()=>{i=null})):(i?at(i):_&&(i=ze(()=>_(n))),l&&it(l,()=>{l=null})))};Yt(()=>{u=!1,t(o),u||f(null,null)},c)}function Ve(e,t){return t}function Al(e,t,r,n){for(var l=[],i=t.length,s=0;s<i;s++)Gt(t[s].e,l,!0);var c=i>0&&l.length===0&&r!==null;if(c){var u=r.parentNode;el(u),u.append(r),n.clear(),oe(e,t[0].prev,t[i-1].next)}Hr(l,()=>{for(var o=0;o<i;o++){var f=t[o];c||(n.delete(f.k),oe(e,f.prev,f.next)),de(f.e,!c)}})}function Ue(e,t,r,n,l,i=null){var s=e,c={flags:t,items:new Map,first:null},u=(t&kr)!==0;if(u){var o=e;s=o.appendChild(Ut())}var f=null,v=!1;Yt(()=>{var _=r(),d=It(_)?_:_==null?[]:Nt(_),y=d.length;if(!(v&&y===0)){v=y===0;{var w=C;Pl(d,c,s,l,t,(w.f&ee)!==0,n)}i!==null&&(y===0?f?at(f):f=ze(()=>i(s)):f!==null&&it(f,()=>{f=null})),r()}})}function Pl(e,t,r,n,l,i,s,c){var ne,Ee,Xe,Je;var u=(l&Un)!==0,o=(l&(Ht|Wt))!==0,f=e.length,v=t.items,_=t.first,d=_,y,w=null,h,S=[],M=[],P,p,g,m;if(u)for(m=0;m<f;m+=1)P=e[m],p=s(P,m),g=v.get(p),g!==void 0&&((ne=g.a)==null||ne.measure(),(h??(h=new Set)).add(g));for(m=0;m<f;m+=1){if(P=e[m],p=s(P,m),g=v.get(p),g===void 0){var L=d?d.e.nodes_start:r;w=Ol(L,t,w,w===null?t.first:w.next,P,p,m,n,l),v.set(p,w),S=[],M=[],d=w.next;continue}if(o&&Fl(g,P,m,l),g.e.f&ee&&(at(g.e),u&&((Ee=g.a)==null||Ee.unfix(),(h??(h=new Set)).delete(g))),g!==d){if(y!==void 0&&y.has(g)){if(S.length<M.length){var x=M[0],F;w=x.prev;var D=S[0],se=S[S.length-1];for(F=0;F<S.length;F+=1)mr(S[F],x,r);for(F=0;F<M.length;F+=1)y.delete(M[F]);oe(t,D.prev,se.next),oe(t,w,D),oe(t,se,x),d=x,w=se,m-=1,S=[],M=[]}else y.delete(g),mr(g,d,r),oe(t,g.prev,g.next),oe(t,g,w===null?t.first:w.next),oe(t,w,g),w=g;continue}for(S=[],M=[];d!==null&&d.k!==p;)(i||!(d.e.f&ee))&&(y??(y=new Set)).add(d),M.push(d),d=d.next;if(d===null)continue;g=d}S.push(g),w=g,d=g.next}if(d!==null||y!==void 0){for(var W=y===void 0?[]:Nt(y);d!==null;)(i||!(d.e.f&ee))&&W.push(d),d=d.next;var $=W.length;if($>0){var he=l&kr&&f===0?r:null;if(u){for(m=0;m<$;m+=1)(Xe=W[m].a)==null||Xe.measure();for(m=0;m<$;m+=1)(Je=W[m].a)==null||Je.fix()}Al(t,W,he,v)}}u&&Kt(()=>{var Ce;if(h!==void 0)for(g of h)(Ce=g.a)==null||Ce.apply()}),q.first=t.first&&t.first.e,q.last=w&&w.e}function Fl(e,t,r,n){n&Ht&&Mt(e.v,t),n&Wt?Mt(e.i,r):e.i=r}function Ol(e,t,r,n,l,i,s,c,u,o){var f=(u&Ht)!==0,v=(u&jn)===0,_=f?v?Vt(l):G(l):l,d=u&Wt?G(s):s,y={i:d,v:_,k:i,a:null,e:null,prev:r,next:n};try{return y.e=ze(()=>c(e,_,d),Qn),y.e.prev=r&&r.e,y.e.next=n&&n.e,r===null?t.first=y:(r.next=y,r.e.next=y.e),n!==null&&(n.prev=y,n.e.prev=y.e),y}finally{}}function mr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,l=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=ct(i);l.before(i),i=s}}function oe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function b(e,t,r,n){var l=e.__attributes??(e.__attributes={});l[t]!==(l[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Fn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Cl(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var wr=new Map;function Cl(e){var t=wr.get(e.nodeName);if(t)return t;wr.set(e.nodeName,t=[]);for(var r,n=e,l=Element.prototype;l!==n;){r=xr(n);for(var i in r)r[i].set&&t.push(i);n=Dt(n)}return t}function Ie(e,t,r=t){var n=dt();xl(e,"input",l=>{var i=l?e.defaultValue:e.value;if(i=Et(e)?xt(i):i,r(i),n&&i!==(i=t())){var s=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(c,e.value.length))}}),ae(t)==null&&e.value&&r(Et(e)?xt(e.value):e.value),Ke(()=>{var l=t();Et(e)&&l===xt(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Et(e){var t=e.type;return t==="number"||t==="range"}function xt(e){return e===""?null:+e}var fe,ke,je,ut,Qr;const ft=class ft{constructor(t){Re(this,ut);Re(this,fe,new WeakMap);Re(this,ke);Re(this,je);pt(this,je,t)}observe(t,r){var n=le(this,fe).get(t)||new Set;return n.add(r),le(this,fe).set(t,n),fr(this,ut,Qr).call(this).observe(t,le(this,je)),()=>{var l=le(this,fe).get(t);l.delete(r),l.size===0&&(le(this,fe).delete(t),le(this,ke).unobserve(t))}}};fe=new WeakMap,ke=new WeakMap,je=new WeakMap,ut=new WeakSet,Qr=function(){return le(this,ke)??pt(this,ke,new ResizeObserver(t=>{for(var r of t){ft.entries.set(r.target,r);for(var n of le(this,fe).get(r.target)||[])n(r)}}))},ur(ft,"entries",new WeakMap);let Ct=ft;var Rl=new Ct({box:"border-box"});function Il(e,t,r){var n=Rl.observe(e,()=>r(e[t]));vt(()=>(ae(()=>r(e[t])),n))}function pr(e,t){return e===t||(e==null?void 0:e[we])===t}function Nl(e={},t,r,n){return vt(()=>{var l,i;return Ke(()=>{l=i,i=[],ae(()=>{e!==r(...i)&&(t(e,...i),l&&pr(r(...l),e)&&t(null,...l))})}),()=>{Kt(()=>{i&&pr(r(...i),e)&&t(null,...i)})}}),e}function Dl(e=!1){const t=A,r=t.l.u;if(!r)return;let n=()=>Ne(t.s);if(e){let l=0,i={};const s=B(()=>{let c=!1;const u=t.s;for(const o in u)u[o]!==i[o]&&(i[o]=u[o],c=!0);return c&&l++,l});n=()=>a(s)}r.b.length&&il(()=>{br(t,n),qt(r.b)}),kt(()=>{const l=ae(()=>r.m.map(Mn));return()=>{for(const i of l)typeof i=="function"&&i()}}),r.a.length&&kt(()=>{br(t,n),qt(r.a)})}function br(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}let tt=!1;function Ll(e){var t=tt;try{return tt=!1,[e(),tt]}finally{tt=t}}function Er(e){for(var t=q,r=q;t!==null&&!(t.f&(J|Ge));)t=t.parent;try{return re(t),e()}finally{re(r)}}function ue(e,t,r,n){var L;var l=(r&Yn)!==0,i=!Pe||(r&Gn)!==0,s=(r&Zn)!==0,c=(r&Xn)!==0,u=!1,o;s?[o,u]=Ll(()=>e[t]):o=e[t];var f=we in e||Pn in e,v=((L=Se(e,t))==null?void 0:L.set)??(f&&s&&t in e?x=>e[t]=x:void 0),_=n,d=!0,y=!1,w=()=>(y=!0,d&&(d=!1,c?_=ae(n):_=n),_);o===void 0&&n!==void 0&&(v&&i&&Ln(),o=w(),v&&v(o));var h;if(i)h=()=>{var x=e[t];return x===void 0?w():(d=!0,y=!1,x)};else{var S=Er(()=>(l?B:tl)(()=>e[t]));S.f|=Tn,h=()=>{var x=a(S);return x!==void 0&&(_=void 0),x===void 0?_:x}}if(!(r&Kn))return h;if(v){var M=e.$$legacy;return function(x,F){return arguments.length>0?((!i||!F||M||u)&&v(F?h():x),x):h()}}var P=!1,p=!1,g=Vt(o),m=Er(()=>B(()=>{var x=h(),F=a(g);return P?(P=!1,p=!0,F):(p=!1,g.v=x)}));return l||(m.equals=zt),function(x,F){if(arguments.length>0){const D=F?a(m):i&&s?ge(x):x;return m.equals(D)||(P=!0,I(g,D),y&&_!==void 0&&(_=D),ae(()=>a(m))),x}return a(m)}}function Bl(e){A===null&&Vr(),Pe&&A.l!==null?$r(A).m.push(e):kt(()=>{const t=ae(e);if(typeof t=="function")return t})}function zl(e){A===null&&Vr(),A.l===null&&Dn(),$r(A).a.push(e)}function $r(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Hl="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hl);const rt=new(window.AudioContext||window.webkitAudioContext),Rt=(e,t,r=null)=>{const n=rt.createGain();n.gain.value=(r==null?void 0:r.gain)??.75,n.connect(rt.destination);const l=rt.createOscillator();l.frequency.value=e,l.connect(n),r!=null&&r.onended&&(l.onended=r.onended),l.start(0),l.stop(rt.currentTime+t)};var Wl=be('<text text-anchor="middle" font-family="monospace" fill="#944" font-size="12">Not a complete circle</text>'),Vl=be('<line style="stroke:rgba(255,50,50,.6); stroke-width:4"></line><circle r="14" stroke="rgba(255,50,50,.6)" stroke-width="2" fill="transparent"></circle><rect width="20" height="20" style="fill:rgba(255,255,255,.85)"></rect><text text-anchor="middle" font-family="monospace" fill="#52f" font-size="12"> </text>',1),Ul=be('<circle r="13" stroke="black" stroke-width="1" fill="rgba(245,245,245,1)" class="svelte-ruof1w"></circle><text text-anchor="middle" font-family="monospace" fill="#555" font-size="12" class="svelte-ruof1w"> </text>',1),jl=be('<svg class="svelte-ruof1w"><circle stroke="black" stroke-width="2" fill="transparent"></circle><!><!><!></svg>');function Yl(e,t){yt(t,!0);const r=(p,g)=>g?r(g,p%g):p,n=p=>t.semitones*Math.log2(p);let l=ue(t,"frequencyRoot",3,440),i=ue(t,"generator",19,()=>Math.round(n(3/2))),s=ye(!1),c=B(()=>Math.min(t.height,t.width)/2-20),u=B(()=>p=>[-Math.sin(p%t.semitones*2*Math.PI/t.semitones),-Math.cos(p%t.semitones*2*Math.PI/t.semitones)]);function o(p){var g;I(s,ge(((g=p.target.attributes["data-number"])==null?void 0:g.value)??!1))}function f(p){I(s,!1)}let v=B(()=>r(t.semitones,i())===1);const _=[{name:"P4",ratio:4/3},{name:"P5",ratio:3/2},{name:"M3",ratio:5/4}];var d=jl(),y=k(d),w=E(y);{var h=p=>{var g=Wl();T(()=>{b(g,"x",t.width/2),b(g,"y",t.height/2)}),Z(p,g)};gr(w,p=>{a(v)||p(h)})}var S=E(w);{var M=p=>{var g=Sl(),m=Le(g);Ue(m,17,()=>_,Ve,(L,x)=>{let F=()=>a(x).name,D=()=>a(x).ratio;var se=Vl(),W=Le(se);T(()=>b(W,"x1",a(c)*a(u)(t.semitones-+a(s))[0]+t.width/2)),T(()=>b(W,"y1",a(c)*a(u)(t.semitones-+a(s))[1]+t.height/2)),T(()=>b(W,"x2",a(c)*a(u)(t.semitones-+a(s)-i()*Math.round(n(D())))[0]+t.width/2)),T(()=>b(W,"y2",a(c)*a(u)(t.semitones-+a(s)-i()*Math.round(n(D())))[1]+t.height/2));var $=E(W);T(()=>b($,"cx",a(c)*a(u)(t.semitones-+a(s)-i()*Math.round(n(D())))[0]+t.width/2)),T(()=>b($,"cy",a(c)*a(u)(t.semitones-+a(s)-i()*Math.round(n(D())))[1]+t.height/2));var he=E($);T(()=>b(he,"x",a(c)*(a(u)(t.semitones-+a(s))[0]+a(u)(t.semitones-+a(s)-i()*Math.round(n(D()))%t.semitones+t.semitones)[0])/2+t.width/2-10)),T(()=>b(he,"y",a(c)*(a(u)(t.semitones-+a(s))[1]+a(u)(t.semitones-+a(s)-i()*Math.round(n(D()))%t.semitones+t.semitones)[1])/2+t.height/2-10));var ne=E(he);T(()=>b(ne,"x",a(c)*(a(u)(t.semitones-+a(s))[0]+a(u)(t.semitones-+a(s)-i()*Math.round(n(D()))%t.semitones+t.semitones)[0])/2+t.width/2)),T(()=>b(ne,"y",a(c)*(a(u)(t.semitones-+a(s))[1]+a(u)(t.semitones-+a(s)-i()*Math.round(n(D()))%t.semitones+t.semitones)[1])/2+t.height/2+4));var Ee=k(ne);T(()=>Y(Ee,F())),Z(L,se)}),Z(p,g)};gr(S,p=>{a(s)!==!1&&p(M)})}var P=E(S);Ue(P,17,()=>Array(t.semitones),Ve,(p,g,m)=>{var L=Ul(),x=Le(L);b(x,"data-n",m),T(()=>b(x,"cx",a(c)*a(u)(m)[0]+t.width/2)),T(()=>b(x,"cy",a(c)*a(u)(m)[1]+t.height/2)),x.__click=()=>Rt(l()*2**(m/t.semitones),1);var F=E(x);T(()=>b(F,"x",a(c)*a(u)(m)[0]+t.width/2)),T(()=>b(F,"y",a(c)*a(u)(m)[1]+5+t.height/2)),b(F,"data-n",m),F.__click=()=>Rt(l()*2**(m/t.semitones),1);var D=k(F);T(()=>{b(x,"data-number",(t.semitones-m)%t.semitones),b(F,"data-number",(t.semitones-m)%t.semitones),Y(D,m*(t.semitones-i())%t.semitones)}),et("mouseenter",x,o),et("mouseleave",x,f),et("mouseenter",F,o),et("mouseleave",F,f),Z(p,L)}),T(()=>{b(d,"width",t.width),b(d,"height",t.height),b(y,"cx",t.width/2),b(y,"cy",t.height/2),b(y,"r",a(c))}),Z(e,d),gt()}Xr(["click"]);Vn();var Gl=Xt('<canvas class="svelte-q1vgj0"></canvas>');function Kl(e,t){yt(t,!1);const r=$e(),n=$e(),l=$e();let i=$e(),s=ue(t,"scaleBinary",8),c=ue(t,"frequencyRoot",8,440),u=ue(t,"semitones",8,12),o=ue(t,"width",8,1e3),f=ue(t,"height",8,300);const v=["FF8A80","B388FF","80D8FF","B9F6CA","FFFF8D","FF9E80","8D6E63"],_=h=>S=>Math.sin(S*h*Math.PI*2),d=1e5,y=(h,S,M)=>{let P=0;h.beginPath();for(let p=0;p<a(i).width-1;++p){const g=S(p/d)*a(i).height/2.2;let m=a(i).height/2;h.lineWidth="1.5",h.strokeStyle=M,h.moveTo(p,m-P),h.lineTo(p+1,m-g),P=g}h.stroke()};Bl(()=>{cr(i,a(i).width=o()*2),cr(i,a(i).height=f()*2)}),zl(()=>{a(l)()}),bt(()=>Ne(u()),()=>{I(r,h=>2**(h/u()))}),bt(()=>(Ne(s()),Ne(u()),a(r)),()=>{I(n,s().padEnd(u()+1,"0").split("").map((h,S)=>[h==="1"||h==="x",a(r)(S)]))}),bt(()=>(a(i),Ne(c()),a(n)),()=>{I(l,()=>{const h=a(i).getContext("2d");h.clearRect(0,0,a(i).width,a(i).height),[].forEach((p,g)=>{let m=0,L=0;for(;L<a(i).width;)h.beginPath(),h.lineWidth="2",h.strokeStyle="#"+v[g%v.length],L=Math.round(m*d/c()/2*p),h.moveTo(L+.5,Math.round(a(i).height/2)-20),h.lineTo(L+.5,Math.round(a(i).height/2)+20),h.stroke(),h.lineWidth=1,m++});var S=new Date;h.beginPath(),h.lineWidth="1.5",h.strokeStyle="grey",h.moveTo(0,Math.round(a(i).height/2)),h.lineTo(a(i).width,Math.round(a(i).height/2)),h.stroke(),a(n).filter(([p,g])=>p).forEach(([p,g],m)=>{y(h,_(g*c()),"#"+v[m%v.length])});var M=new Date,P=M-S;console.log("elapsed time = "+P+" ms")})}),sl(),Dl();var w=Gl();Nl(w,h=>I(i,h),()=>a(i)),T(()=>b(w,"height",f()*2)),Z(e,w),gt()}var Zl=be('<rect opacity="1" fill="#039BE5" width="4" tabindex="-1"></rect>'),Xl=be('<rect fill="#FF5722" width="2" y="0" tabindex="-1"></rect><text x="0" y="-9" font-family="monospace" font-size="10"> </text><text transform="translate(, 0) rotate(90)" font-family="monospace" font-size="10"></text>',1),Jl=be('<svg><g transform="translate(1, 0)"><!><!></g></svg>');function Ql(e,t){let r=ue(t,"width",3,500),n=12,l=B(()=>(t.fareySequenceOrder+1.5)*n);var i=Jl(),s=k(i),c=k(s);Ue(c,17,()=>t.fareySequence,Ve,(o,f)=>{let v=()=>a(f)[0],_=()=>a(f)[1];var d=Zl();b(d,"height",n),T(()=>{b(d,"y",(_()-1)*n),b(d,"x",(v()/_()-1)*(r()-5))}),Z(o,d)});var u=E(c);Ue(u,17,()=>t.frequencyInfos,Ve,(o,f,v)=>{let _=()=>a(f).selected,d=()=>a(f).freq;var y=Xl(),w=Le(y),h=E(w),S=k(h);T(()=>Y(S,`${Math.round(d())??""} hz`));var M=E(h);M.textContent=v,T(()=>{b(w,"opacity",_()?.75:.25),b(w,"height",t.fareySequenceOrder*n),b(w,"x",(d()-t.frequencyRoot)*(r()-5)/t.frequencyRoot+1),b(h,"transform",`translate(${(d()-t.frequencyRoot)*(r()-5)/t.frequencyRoot-1}, 0) rotate(90)`),b(M,"x",(d()-t.frequencyRoot)*(r()-5)/t.frequencyRoot-1),b(M,"y",(t.fareySequenceOrder+1.2)*n),b(M,"opacity",_()?1:.5)}),Z(o,y)}),T(()=>{b(i,"width",r()),b(i,"height",a(l))}),Z(e,i)}var $l=(e,t)=>Rt(t(),1),ei=Xt('<tr><td class="svelte-1c1wp76"></td><td class="svelte-1c1wp76"> <small>Hz</small> <button class="btn-play svelte-1c1wp76">â–¶</button></td><td class="svelte-1c1wp76"> </td><td class="svelte-1c1wp76"> <small>%</small> <small> </small></td></tr>'),ti=Xt('<h1 class="svelte-1c1wp76">Equal temperament playground</h1> <!> <div class="row main-inputs svelte-1c1wp76"><span class="svelte-1c1wp76">Scale: <input type="text"></span> <span class="svelte-1c1wp76">Fundamental frequency (<em>hz</em>): <input type="number" class="svelte-1c1wp76"></span> <span class="svelte-1c1wp76">Semi-tones: <input type="number" class="svelte-1c1wp76"></span> <span class="svelte-1c1wp76">Farey sequence order: <input type="number" min="2" max="200" class="svelte-1c1wp76"></span></div> <div class="main"><div class="row svelte-1c1wp76"><div class="column svelte-1c1wp76"><table class="svelte-1c1wp76"><thead class="svelte-1c1wp76"><tr><th scope="col" class="svelte-1c1wp76"></th><th scope="col" class="svelte-1c1wp76"></th><th scope="col" colspan="3" class="svelte-1c1wp76"> </th></tr><tr><th scope="col" class="svelte-1c1wp76">Semi-<br>tone</th><th scope="col" class="svelte-1c1wp76">Frequency<br>(Hz)</th><th scope="col" class="svelte-1c1wp76">Ratio</th><th scope="col" class="svelte-1c1wp76">Error<br>(Hz)</th></tr></thead><tbody></tbody><tfoot class="svelte-1c1wp76"><tr><th scope="col" class="svelte-1c1wp76"></th><th scope="col" class="svelte-1c1wp76"></th><th scope="col" class="svelte-1c1wp76"></th><th scope="col" class="svelte-1c1wp76"> <small>%</small><br> <small>%</small></th></tr></tfoot></table></div> <div class="column svelte-1c1wp76"><div id="tone-circle"><h4><a href="https://en.wikipedia.org/wiki/Circle_of_fifths">Circle of fifths</a></h4> <!><br> Generator: <input class="input-small svelte-1c1wp76" type="number" max="199"></div> <div id="farey-sequence-pattern"><h4><a href="https://en.wikipedia.org/wiki/Farey_sequence">Farey sequence pattern</a></h4> <!></div> <div><p> <br> <br> <br></p></div></div></div></div>',1);function ri(e,t){yt(t,!0);const r=O=>{let N={};for(let R=1;R<=O;++R)for(let V=0;V<=R;++V){let K=Math.round(V/R*1e4)/1e4;N[K]=N[K]??[V+R,R]}return Object.values(N).sort(([R,V],[K,xe])=>R/V-K/xe)},n=(O,N)=>{let R=null,V=null;return O.forEach(([K,xe])=>{let Qe=Math.abs(K/xe-N);(R===null||Qe<R)&&(R=Qe,V=[K,xe])}),V};let l=ye(15);const i=B(()=>r(a(l)));let s=ye(440),c=ye(12),u=ye("101101011010"),o=ye(void 0),f=B(()=>O=>2**(O/a(c))),v=B(()=>a(u).padEnd(a(c)+1,"0").split("").map((O,N)=>[O==="1"||O==="x",a(f)(N)])),_=B(()=>([O,N])=>{const R={selected:O,normalizedFreq:N-1,freq:N*a(s),farey:n(a(i),N)};return R.fareyError=1-1/N*R.farey[0]/R.farey[1],R.fareyErrorAbs=N*a(s)-a(s)*R.farey[0]/R.farey[1],R}),d=B(()=>a(v).map(a(_))),y=B(()=>(()=>{let O=null,N=0;return a(d).forEach(({freq:R,fareyError:V})=>{O=Math.max(O,V),N+=Math.abs(V)}),{maxError:O,avgError:N/a(c)}})()),w=ye(7);var h=ti(),S=E(Le(h),2);Kl(S,{get frequencyRoot(){return a(s)},get semitones(){return a(c)},get scaleBinary(){return a(u)},get width(){return a(o)}});var M=E(S,2),P=k(M),p=E(k(P)),g=E(P,2),m=E(k(g),3),L=E(g,2),x=E(k(L)),F=E(L,2),D=E(k(F)),se=E(M,2),W=k(se),$=k(W),he=k($),ne=k(he),Ee=k(ne),Xe=E(k(Ee),2),Je=k(Xe),Ce=E(ne);Ue(Ce,21,()=>a(d),Ve,(O,N,R)=>{let V=()=>a(N).selected,K=()=>a(N).freq,xe=()=>a(N).farey,Qe=()=>a(N).fareyError,_n=()=>a(N).fareyErrorAbs;var mt=ei(),nr=k(mt);nr.textContent=R;var lr=E(nr),ir=k(lr);T(()=>Y(ir,`${(K()?Math.round(K()*100)/100:"")??""} `));var hn=E(ir,3);hn.__click=[$l,K];var ar=E(lr),yn=k(ar);T(()=>Y(yn,xe().join("/")));var gn=E(ar),sr=k(gn);T(()=>Y(sr,Math.round(Qe()*1e4)/100));var mn=E(sr,3),wn=k(mn);T(()=>Y(wn,`(${Math.round(_n()*100)/100} Hz)`)),T(()=>b(mt,"style",V()?"":"opacity: .6")),Z(O,mt)});var en=E(Ce),tn=k(en),rn=E(k(tn),3),Jt=k(rn);T(()=>Y(Jt,`Avg(error) = ${Math.round(a(y).avgError*1e4)/100}`));var nn=E(Jt,3);T(()=>Y(nn,` Max(error) = ${Math.round(a(y).maxError*1e4)/100}`));var ln=E($,2),Qt=k(ln),$t=E(k(Qt),2),an=B(()=>a(o)>1e3?a(o)/2:280),sn=B(()=>a(o)>1e3?a(o)/3:280);Yl($t,{get width(){return a(an)},get height(){return a(sn)},get frequencyInfos(){return a(d)},get semitones(){return a(c)},get generator(){return a(w)},get frequencyRoot(){return a(s)}});var on=E($t,3),er=E(Qt,2),un=E(k(er),2),fn=B(()=>a(o)>1e3?a(o)/2:a(o));Ql(un,{get fareySequenceOrder(){return a(l)},get frequencyRoot(){return a(s)},get fareySequence(){return a(i)},get frequencyInfos(){return a(d)},get width(){return a(fn)}});var cn=E(er,2),vn=k(cn),tr=k(vn),rr=E(tr,2),dn=E(rr,2);T(()=>{b(p,"maxlength",a(c)),Y(Je,`Farey order ${a(l)??""}`),Y(tr,`Perfect fifth: ${a(s)*3/2} Hz`),Y(rr,` Perfect fourth: ${a(s)*4/3} Hz`),Y(dn,` Major third: ${a(s)*5/4} Hz`)}),Ie(p,()=>a(u),O=>I(u,O)),Ie(m,()=>a(s),O=>I(s,O)),Ie(x,()=>a(c),O=>I(c,O)),Ie(D,()=>a(l),O=>I(l,O)),Ie(on,()=>a(w),O=>I(w,O)),Il(W,"clientWidth",O=>I(o,O)),Z(e,h),gt()}Xr(["click"]);Ml(ri,{target:document.getElementById("app")});
